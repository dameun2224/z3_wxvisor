# z3_wxvisor
wxvisor에 대한 z3 정리


Z3 Python https://github.com/Z3Prover/z3이 있다고 가정합니다.

## 1. 주소 매핑 및 접근 권한을 갖춘 기본 OS 페이징
- 실행 방법:
> 쉘> 파이썬 paging.py
- 정리의 제약 조건이 만족하는지 확인합니다.
정리는 
 1. 페이징 단위의 기본 주소 매핑 va-to-pa
 2. 각 va에는 페이지 테이블에 액세스 권한 비트가 존재함
 3. 페이지 테이블의 권한과 물리적 액세스 권한을 일치시킴

## 2. 별칭을 사용한 OS 페이징
- 실행 방법:
> 쉘> 파이썬 paging.py
- 정리에서 제약 조건의 만족 여부를 확인합니다. 
정리는 va에 대한 별칭을 정의합니다.
 1. 다른 가상 주소(va1 != va2)
 2. 동일한 물리적 주소(mmu1(va1) == mmu1(pa))에 대한 동일한 매핑을 가질 수 있음
 3. 페이지 테이블의 권한과 물리적 액세스 권한을 일치시킴

## 3. WX 메모리를 사용한 OS 페이징
- 실행 방법:
> 쉘> 파이썬 paging.py
- 정리에서 제약 조건의 만족 여부를 확인합니다.
정리는 WX 속성을 정의합니다.
 1. 페이지 테이블에 ro_bits, nx_bits를 정의함
 2. 물리적 읽기 전용, 비실행 영역
 3. 쓰기 시 확인하고 페이지 테이블에서 ro가 설정 해제되고 물리적으로 동일한 액세스 권한이 부여됩
 4. 실행 시 확인하여 페이지 테이블에서 nx가 설정 해제되고 물리적으로 동일한 액세스 권한이 부여됨

## 4. WX바이저
- 실행 방법:
> 쉘> 파이썬 paging.py
- 정리에서 제약 조건의 만족 여부를 확인합니다.
정리는 별칭을 사용하여 WXvisor WX 속성을 정의합니다.
 1. 중첩된 페이징 구조(mmu1: va->ipa, mmu2: ipa->pa)
 2. WXvisor(ro_bits2, nx_bits2)에서 액세스 권한이 있는 경우
 3. 물리적 액세스 권한과 일치하는 경우 부여된 최소 권한임
 4. w^x 액세스 권한이 보존됨
 5. 최소한의 권한이 부여된 별칭에 대한 물리적 액세스 권한과 일치함
 6. 쓰기 시 확인하고 페이지 테이블에서 ro가 설정 해제되고 물리적으로 동일한 액세스 권한이 부여됨
 7. 실행 시 확인하여 페이지 테이블에서 nx가 설정 해제되고 물리적으로 동일한 액세스 권한이 부여됨
